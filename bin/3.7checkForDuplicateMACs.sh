#!/bin/bash
# CM 180828 This script will find duplicate MAC addresses in the classes files generated by IPAM.
# My method is:
# Generate a text file containing list of classes files name.
# Read MAC.
# Grep the MAC in all *.classes. If more than 2 results we have duplicates.
# Might be a more clever way to do this. Doing it this way for now.
#
# Variables
workingDir=/root/IPAM/
classes=$workingDir/Classes
duplicate="False"
log=$workingDir/duplicates.Log
#
#
## Generate text file
#ls $classes | grep . > $workingDir/classesNames.txt
cd $classes
ls *.classes | grep . > $workingDir/parsedFiles/classesNames.txt

filename="$workingDir/parsedFiles/classesNames.txt"
$workingDir/bin/findDuplicateMacs.py $filename
exit
